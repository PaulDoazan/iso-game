var C={exports:{}},Ce=C.exports,le;function Je(){return le||(le=1,(function(M){(function(){var k,c,e,t,r,n,i,a,h,u,f,o,g,b,m;e=Math.floor,u=Math.min,c=function(s,d){return s<d?-1:s>d?1:0},h=function(s,d,l,p,v){var N;if(l==null&&(l=0),v==null&&(v=c),l<0)throw new Error("lo must be non-negative");for(p==null&&(p=s.length);l<p;)N=e((l+p)/2),v(d,s[N])<0?p=N:l=N+1;return[].splice.apply(s,[l,l-l].concat(d)),d},n=function(s,d,l){return l==null&&(l=c),s.push(d),b(s,0,s.length-1,l)},r=function(s,d){var l,p;return d==null&&(d=c),l=s.pop(),s.length?(p=s[0],s[0]=l,m(s,0,d)):p=l,p},a=function(s,d,l){var p;return l==null&&(l=c),p=s[0],s[0]=d,m(s,0,l),p},i=function(s,d,l){var p;return l==null&&(l=c),s.length&&l(s[0],d)<0&&(p=[s[0],d],d=p[0],s[0]=p[1],m(s,0,l)),d},t=function(s,d){var l,p,v,N,A,F;for(d==null&&(d=c),N=(function(){F=[];for(var W=0,w=e(s.length/2);0<=w?W<w:W>w;0<=w?W++:W--)F.push(W);return F}).apply(this).reverse(),A=[],p=0,v=N.length;p<v;p++)l=N[p],A.push(m(s,l,d));return A},g=function(s,d,l){var p;if(l==null&&(l=c),p=s.indexOf(d),p!==-1)return b(s,0,p,l),m(s,p,l)},f=function(s,d,l){var p,v,N,A,F;if(l==null&&(l=c),v=s.slice(0,d),!v.length)return v;for(t(v,l),F=s.slice(d),N=0,A=F.length;N<A;N++)p=F[N],i(v,p,l);return v.sort(l).reverse()},o=function(s,d,l){var p,v,N,A,F,W,w,D,B;if(l==null&&(l=c),d*10<=s.length){if(N=s.slice(0,d).sort(l),!N.length)return N;for(v=N[N.length-1],w=s.slice(d),A=0,W=w.length;A<W;A++)p=w[A],l(p,v)<0&&(h(N,p,0,null,l),N.pop(),v=N[N.length-1]);return N}for(t(s,l),B=[],F=0,D=u(d,s.length);0<=D?F<D:F>D;0<=D?++F:--F)B.push(r(s,l));return B},b=function(s,d,l,p){var v,N,A;for(p==null&&(p=c),v=s[l];l>d;){if(A=l-1>>1,N=s[A],p(v,N)<0){s[l]=N,l=A;continue}break}return s[l]=v},m=function(s,d,l){var p,v,N,A,F;for(l==null&&(l=c),v=s.length,F=d,N=s[d],p=2*d+1;p<v;)A=p+1,A<v&&!(l(s[p],s[A])<0)&&(p=A),s[d]=s[p],d=p,p=2*d+1;return s[d]=N,b(s,F,d,l)},k=(function(){s.push=n,s.pop=r,s.replace=a,s.pushpop=i,s.heapify=t,s.updateItem=g,s.nlargest=f,s.nsmallest=o;function s(d){this.cmp=d??c,this.nodes=[]}return s.prototype.push=function(d){return n(this.nodes,d,this.cmp)},s.prototype.pop=function(){return r(this.nodes,this.cmp)},s.prototype.peek=function(){return this.nodes[0]},s.prototype.contains=function(d){return this.nodes.indexOf(d)!==-1},s.prototype.replace=function(d){return a(this.nodes,d,this.cmp)},s.prototype.pushpop=function(d){return i(this.nodes,d,this.cmp)},s.prototype.heapify=function(){return t(this.nodes,this.cmp)},s.prototype.updateItem=function(d){return g(this.nodes,d,this.cmp)},s.prototype.clear=function(){return this.nodes=[]},s.prototype.empty=function(){return this.nodes.length===0},s.prototype.size=function(){return this.nodes.length},s.prototype.clone=function(){var d;return d=new s,d.nodes=this.nodes.slice(0),d},s.prototype.toArray=function(){return this.nodes.slice(0)},s.prototype.insert=s.prototype.push,s.prototype.top=s.prototype.peek,s.prototype.front=s.prototype.peek,s.prototype.has=s.prototype.contains,s.prototype.copy=s.prototype.clone,s})(),M!==null&&M.exports?M.exports=k:window.Heap=k}).call(Ce)})(C)),C.exports}var j,ue;function J(){return ue||(ue=1,j=Je()),j}var S,he;function se(){if(he)return S;he=1;function M(k,c,e){this.x=k,this.y=c,this.walkable=e===void 0?!0:e}return S=M,S}var H,fe;function q(){if(fe)return H;fe=1;var M={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};return H=M,H}var L,de;function Ie(){if(de)return L;de=1;var M=se(),k=q();function c(e,t,r){var n;typeof e!="object"?n=e:(t=e.length,n=e[0].length,r=e),this.width=n,this.height=t,this.nodes=this._buildNodes(n,t,r)}return c.prototype._buildNodes=function(e,t,r){var n,i,a=new Array(t);for(n=0;n<t;++n)for(a[n]=new Array(e),i=0;i<e;++i)a[n][i]=new M(i,n);if(r===void 0)return a;if(r.length!==t||r[0].length!==e)throw new Error("Matrix size does not fit");for(n=0;n<t;++n)for(i=0;i<e;++i)r[n][i]&&(a[n][i].walkable=!1);return a},c.prototype.getNodeAt=function(e,t){return this.nodes[t][e]},c.prototype.isWalkableAt=function(e,t){return this.isInside(e,t)&&this.nodes[t][e].walkable},c.prototype.isInside=function(e,t){return e>=0&&e<this.width&&t>=0&&t<this.height},c.prototype.setWalkableAt=function(e,t,r){this.nodes[t][e].walkable=r},c.prototype.getNeighbors=function(e,t){var r=e.x,n=e.y,i=[],a=!1,h=!1,u=!1,f=!1,o=!1,g=!1,b=!1,m=!1,s=this.nodes;if(this.isWalkableAt(r,n-1)&&(i.push(s[n-1][r]),a=!0),this.isWalkableAt(r+1,n)&&(i.push(s[n][r+1]),u=!0),this.isWalkableAt(r,n+1)&&(i.push(s[n+1][r]),o=!0),this.isWalkableAt(r-1,n)&&(i.push(s[n][r-1]),b=!0),t===k.Never)return i;if(t===k.OnlyWhenNoObstacles)h=b&&a,f=a&&u,g=u&&o,m=o&&b;else if(t===k.IfAtMostOneObstacle)h=b||a,f=a||u,g=u||o,m=o||b;else if(t===k.Always)h=!0,f=!0,g=!0,m=!0;else throw new Error("Incorrect value of diagonalMovement");return h&&this.isWalkableAt(r-1,n-1)&&i.push(s[n-1][r-1]),f&&this.isWalkableAt(r+1,n-1)&&i.push(s[n-1][r+1]),g&&this.isWalkableAt(r+1,n+1)&&i.push(s[n+1][r+1]),m&&this.isWalkableAt(r-1,n+1)&&i.push(s[n+1][r-1]),i},c.prototype.clone=function(){var e,t,r=this.width,n=this.height,i=this.nodes,a=new c(r,n),h=new Array(n);for(e=0;e<n;++e)for(h[e]=new Array(r),t=0;t<r;++t)h[e][t]=new M(t,e,i[e][t].walkable);return a.nodes=h,a},L=c,L}var y={},pe;function P(){if(pe)return y;pe=1;function M(i){for(var a=[[i.x,i.y]];i.parent;)i=i.parent,a.push([i.x,i.y]);return a.reverse()}y.backtrace=M;function k(i,a){var h=M(i),u=M(a);return h.concat(u.reverse())}y.biBacktrace=k;function c(i){var a,h=0,u,f,o,g;for(a=1;a<i.length;++a)u=i[a-1],f=i[a],o=u[0]-f[0],g=u[1]-f[1],h+=Math.sqrt(o*o+g*g);return h}y.pathLength=c;function e(i,a,h,u){var f=Math.abs,o=[],g,b,m,s,d,l;for(m=f(h-i),s=f(u-a),g=i<h?1:-1,b=a<u?1:-1,d=m-s;o.push([i,a]),!(i===h&&a===u);)l=2*d,l>-s&&(d=d-s,i=i+g),l<m&&(d=d+m,a=a+b);return o}y.interpolate=e;function t(i){var a=[],h=i.length,u,f,o,g,b,m;if(h<2)return a;for(b=0;b<h-1;++b)for(u=i[b],f=i[b+1],o=e(u[0],u[1],f[0],f[1]),g=o.length,m=0;m<g-1;++m)a.push(o[m]);return a.push(i[h-1]),a}y.expandPath=t;function r(i,a){var h=a.length,u=a[0][0],f=a[0][1],o=a[h-1][0],g=a[h-1][1],b,m,s,d,l,p,v,N,A,F,W;for(b=u,m=f,l=[[b,m]],p=2;p<h;++p){for(N=a[p],s=N[0],d=N[1],A=e(b,m,s,d),W=!1,v=1;v<A.length;++v)if(F=A[v],!i.isWalkableAt(F[0],F[1])){W=!0;break}W&&(lastValidCoord=a[p-1],l.push(lastValidCoord),b=lastValidCoord[0],m=lastValidCoord[1])}return l.push([o,g]),l}y.smoothenPath=r;function n(i){if(i.length<3)return i;var a=[],h=i[0][0],u=i[0][1],f=i[1][0],o=i[1][1],g=f-h,b=o-u,m,s,d,l,p,v;for(p=Math.sqrt(g*g+b*b),g/=p,b/=p,a.push([h,u]),v=2;v<i.length;v++)m=f,s=o,d=g,l=b,f=i[v][0],o=i[v][1],g=f-m,b=o-s,p=Math.sqrt(g*g+b*b),g/=p,b/=p,(g!==d||b!==l)&&a.push([m,s]);return a.push([f,o]),a}return y.compressPath=n,y}var T,ce;function R(){return ce||(ce=1,T={manhattan:function(M,k){return M+k},euclidean:function(M,k){return Math.sqrt(M*M+k*k)},octile:function(M,k){var c=Math.SQRT2-1;return M<k?c*M+k:c*k+M},chebyshev:function(M,k){return Math.max(M,k)}}),T}var U,ge;function ae(){if(ge)return U;ge=1;var M=J(),k=P(),c=R(),e=q();function t(r){r=r||{},this.allowDiagonal=r.allowDiagonal,this.dontCrossCorners=r.dontCrossCorners,this.heuristic=r.heuristic||c.manhattan,this.weight=r.weight||1,this.diagonalMovement=r.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=e.OnlyWhenNoObstacles:this.diagonalMovement=e.IfAtMostOneObstacle:this.diagonalMovement=e.Never),this.diagonalMovement===e.Never?this.heuristic=r.heuristic||c.manhattan:this.heuristic=r.heuristic||c.octile}return t.prototype.findPath=function(r,n,i,a,h){var u=new M(function(D,B){return D.f-B.f}),f=h.getNodeAt(r,n),o=h.getNodeAt(i,a),g=this.heuristic,b=this.diagonalMovement,m=this.weight,s=Math.abs,d=Math.SQRT2,l,p,v,N,A,F,W,w;for(f.g=0,f.f=0,u.push(f),f.opened=!0;!u.empty();){if(l=u.pop(),l.closed=!0,l===o)return k.backtrace(o);for(p=h.getNeighbors(l,b),N=0,A=p.length;N<A;++N)v=p[N],!v.closed&&(F=v.x,W=v.y,w=l.g+(F-l.x===0||W-l.y===0?1:d),(!v.opened||w<v.g)&&(v.g=w,v.h=v.h||m*g(s(F-i),s(W-a)),v.f=v.g+v.h,v.parent=l,v.opened?u.updateItem(v):(u.push(v),v.opened=!0)))}return[]},U=t,U}var E,ve;function je(){if(ve)return E;ve=1;var M=ae();function k(c){M.call(this,c);var e=this.heuristic;this.heuristic=function(t,r){return e(t,r)*1e6}}return k.prototype=new M,k.prototype.constructor=k,E=k,E}var G,be;function Se(){if(be)return G;be=1;var M=P(),k=q();function c(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=k.OnlyWhenNoObstacles:this.diagonalMovement=k.IfAtMostOneObstacle:this.diagonalMovement=k.Never)}return c.prototype.findPath=function(e,t,r,n,i){var a=[],h=this.diagonalMovement,u=i.getNodeAt(e,t),f=i.getNodeAt(r,n),o,g,b,m,s;for(a.push(u),u.opened=!0;a.length;){if(b=a.shift(),b.closed=!0,b===f)return M.backtrace(f);for(o=i.getNeighbors(b,h),m=0,s=o.length;m<s;++m)g=o[m],!(g.closed||g.opened)&&(a.push(g),g.opened=!0,g.parent=b)}return[]},G=c,G}var Q,Ae;function He(){if(Ae)return Q;Ae=1;var M=ae();function k(c){M.call(this,c),this.heuristic=function(e,t){return 0}}return k.prototype=new M,k.prototype.constructor=k,Q=k,Q}var V,ke;function oe(){if(ke)return V;ke=1;var M=J(),k=P(),c=R(),e=q();function t(r){r=r||{},this.allowDiagonal=r.allowDiagonal,this.dontCrossCorners=r.dontCrossCorners,this.diagonalMovement=r.diagonalMovement,this.heuristic=r.heuristic||c.manhattan,this.weight=r.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=e.OnlyWhenNoObstacles:this.diagonalMovement=e.IfAtMostOneObstacle:this.diagonalMovement=e.Never),this.diagonalMovement===e.Never?this.heuristic=r.heuristic||c.manhattan:this.heuristic=r.heuristic||c.octile}return t.prototype.findPath=function(r,n,i,a,h){var u=function(_e,Re){return _e.f-Re.f},f=new M(u),o=new M(u),g=h.getNodeAt(r,n),b=h.getNodeAt(i,a),m=this.heuristic,s=this.diagonalMovement,d=this.weight,l=Math.abs,p=Math.SQRT2,v,N,A,F,W,w,D,B,O=1,_=2;for(g.g=0,g.f=0,f.push(g),g.opened=O,b.g=0,b.f=0,o.push(b),b.opened=_;!f.empty()&&!o.empty();){for(v=f.pop(),v.closed=!0,N=h.getNeighbors(v,s),F=0,W=N.length;F<W;++F)if(A=N[F],!A.closed){if(A.opened===_)return k.biBacktrace(v,A);w=A.x,D=A.y,B=v.g+(w-v.x===0||D-v.y===0?1:p),(!A.opened||B<A.g)&&(A.g=B,A.h=A.h||d*m(l(w-i),l(D-a)),A.f=A.g+A.h,A.parent=v,A.opened?f.updateItem(A):(f.push(A),A.opened=O))}for(v=o.pop(),v.closed=!0,N=h.getNeighbors(v,s),F=0,W=N.length;F<W;++F)if(A=N[F],!A.closed){if(A.opened===O)return k.biBacktrace(A,v);w=A.x,D=A.y,B=v.g+(w-v.x===0||D-v.y===0?1:p),(!A.opened||B<A.g)&&(A.g=B,A.h=A.h||d*m(l(w-r),l(D-n)),A.f=A.g+A.h,A.parent=v,A.opened?o.updateItem(A):(o.push(A),A.opened=_))}}return[]},V=t,V}var $,Me;function Le(){if(Me)return $;Me=1;var M=oe();function k(c){M.call(this,c);var e=this.heuristic;this.heuristic=function(t,r){return e(t,r)*1e6}}return k.prototype=new M,k.prototype.constructor=k,$=k,$}var z,me;function Te(){if(me)return z;me=1;var M=P(),k=q();function c(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=k.OnlyWhenNoObstacles:this.diagonalMovement=k.IfAtMostOneObstacle:this.diagonalMovement=k.Never)}return c.prototype.findPath=function(e,t,r,n,i){var a=i.getNodeAt(e,t),h=i.getNodeAt(r,n),u=[],f=[],o,g,b,m=this.diagonalMovement,s=0,d=1,l,p;for(u.push(a),a.opened=!0,a.by=s,f.push(h),h.opened=!0,h.by=d;u.length&&f.length;){for(b=u.shift(),b.closed=!0,o=i.getNeighbors(b,m),l=0,p=o.length;l<p;++l)if(g=o[l],!g.closed){if(g.opened){if(g.by===d)return M.biBacktrace(b,g);continue}u.push(g),g.parent=b,g.opened=!0,g.by=s}for(b=f.shift(),b.closed=!0,o=i.getNeighbors(b,m),l=0,p=o.length;l<p;++l)if(g=o[l],!g.closed){if(g.opened){if(g.by===s)return M.biBacktrace(g,b);continue}f.push(g),g.parent=b,g.opened=!0,g.by=d}}return[]},z=c,z}var Y,Ne;function Ue(){if(Ne)return Y;Ne=1;var M=oe();function k(c){M.call(this,c),this.heuristic=function(e,t){return 0}}return k.prototype=new M,k.prototype.constructor=k,Y=k,Y}var K,Fe;function Ee(){if(Fe)return K;Fe=1,P();var M=R(),k=se(),c=q();function e(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||M.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=c.OnlyWhenNoObstacles:this.diagonalMovement=c.IfAtMostOneObstacle:this.diagonalMovement=c.Never),this.diagonalMovement===c.Never?this.heuristic=t.heuristic||M.manhattan:this.heuristic=t.heuristic||M.octile}return e.prototype.findPath=function(t,r,n,i,a){var h=new Date().getTime(),u=(function(p,v){return this.heuristic(Math.abs(v.x-p.x),Math.abs(v.y-p.y))}).bind(this),f=function(p,v){return p.x===v.x||p.y===v.y?1:Math.SQRT2},o=(function(p,v,N,A,F){if(this.timeLimit>0&&new Date().getTime()-h>this.timeLimit*1e3)return 1/0;var W=v+u(p,b)*this.weight;if(W>N)return W;if(p==b)return A[F]=[p.x,p.y],p;var w,D,B,O,_=a.getNeighbors(p,this.diagonalMovement);for(B=0,w=1/0;O=_[B];++B){if(this.trackRecursion&&(O.retainCount=O.retainCount+1||1,O.tested!==!0&&(O.tested=!0)),D=o(O,v+f(p,O),N,A,F+1),D instanceof k)return A[F]=[p.x,p.y],D;this.trackRecursion&&--O.retainCount===0&&(O.tested=!1),D<w&&(w=D)}return w}).bind(this),g=a.getNodeAt(t,r),b=a.getNodeAt(n,i),m=u(g,b),s,d,l;for(s=0;;++s){if(d=[],l=o(g,0,m,d,0),l===1/0)return[];if(l instanceof k)return d;m=l}return[]},K=e,K}var Z,We;function I(){if(We)return Z;We=1;var M=J(),k=P(),c=R();q();function e(t){t=t||{},this.heuristic=t.heuristic||c.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}return e.prototype.findPath=function(t,r,n,i,a){var h=this.openList=new M(function(g,b){return g.f-b.f}),u=this.startNode=a.getNodeAt(t,r),f=this.endNode=a.getNodeAt(n,i),o;for(this.grid=a,u.g=0,u.f=0,h.push(u),u.opened=!0;!h.empty();){if(o=h.pop(),o.closed=!0,o===f)return k.expandPath(k.backtrace(f));this._identifySuccessors(o)}return[]},e.prototype._identifySuccessors=function(t){var r=this.grid,n=this.heuristic,i=this.openList,a=this.endNode.x,h=this.endNode.y,u,f,o,g,b,m=t.x,s=t.y,d,l,p,v,N,A=Math.abs;for(u=this._findNeighbors(t),g=0,b=u.length;g<b;++g)if(f=u[g],o=this._jump(f[0],f[1],m,s),o){if(d=o[0],l=o[1],N=r.getNodeAt(d,l),N.closed)continue;p=c.octile(A(d-m),A(l-s)),v=t.g+p,(!N.opened||v<N.g)&&(N.g=v,N.h=N.h||n(A(d-a),A(l-h)),N.f=N.g+N.h,N.parent=t,N.opened?i.updateItem(N):(i.push(N),N.opened=!0))}},Z=e,Z}var X,we;function Ge(){if(we)return X;we=1;var M=I(),k=q();function c(e){M.call(this,e)}return c.prototype=new M,c.prototype.constructor=c,c.prototype._jump=function(e,t,r,n){var i=this.grid,a=e-r,h=t-n;if(!i.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(i.getNodeAt(e,t).tested=!0),i.getNodeAt(e,t)===this.endNode)return[e,t];if(a!==0){if(i.isWalkableAt(e,t-1)&&!i.isWalkableAt(e-a,t-1)||i.isWalkableAt(e,t+1)&&!i.isWalkableAt(e-a,t+1))return[e,t]}else if(h!==0){if(i.isWalkableAt(e-1,t)&&!i.isWalkableAt(e-1,t-h)||i.isWalkableAt(e+1,t)&&!i.isWalkableAt(e+1,t-h))return[e,t];if(this._jump(e+1,t,e,t)||this._jump(e-1,t,e,t))return[e,t]}else throw new Error("Only horizontal and vertical movements are allowed");return this._jump(e+a,t+h,e,t)},c.prototype._findNeighbors=function(e){var t=e.parent,r=e.x,n=e.y,i=this.grid,a,h,u,f,o=[],g,b,m,s;if(t)a=t.x,h=t.y,u=(r-a)/Math.max(Math.abs(r-a),1),f=(n-h)/Math.max(Math.abs(n-h),1),u!==0?(i.isWalkableAt(r,n-1)&&o.push([r,n-1]),i.isWalkableAt(r,n+1)&&o.push([r,n+1]),i.isWalkableAt(r+u,n)&&o.push([r+u,n])):f!==0&&(i.isWalkableAt(r-1,n)&&o.push([r-1,n]),i.isWalkableAt(r+1,n)&&o.push([r+1,n]),i.isWalkableAt(r,n+f)&&o.push([r,n+f]));else for(g=i.getNeighbors(e,k.Never),m=0,s=g.length;m<s;++m)b=g[m],o.push([b.x,b.y]);return o},X=c,X}var x,De;function Qe(){if(De)return x;De=1;var M=I(),k=q();function c(e){M.call(this,e)}return c.prototype=new M,c.prototype.constructor=c,c.prototype._jump=function(e,t,r,n){var i=this.grid,a=e-r,h=t-n;if(!i.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(i.getNodeAt(e,t).tested=!0),i.getNodeAt(e,t)===this.endNode)return[e,t];if(a!==0&&h!==0){if(i.isWalkableAt(e-a,t+h)&&!i.isWalkableAt(e-a,t)||i.isWalkableAt(e+a,t-h)&&!i.isWalkableAt(e,t-h))return[e,t];if(this._jump(e+a,t,e,t)||this._jump(e,t+h,e,t))return[e,t]}else if(a!==0){if(i.isWalkableAt(e+a,t+1)&&!i.isWalkableAt(e,t+1)||i.isWalkableAt(e+a,t-1)&&!i.isWalkableAt(e,t-1))return[e,t]}else if(i.isWalkableAt(e+1,t+h)&&!i.isWalkableAt(e+1,t)||i.isWalkableAt(e-1,t+h)&&!i.isWalkableAt(e-1,t))return[e,t];return this._jump(e+a,t+h,e,t)},c.prototype._findNeighbors=function(e){var t=e.parent,r=e.x,n=e.y,i=this.grid,a,h,u,f,o=[],g,b,m,s;if(t)a=t.x,h=t.y,u=(r-a)/Math.max(Math.abs(r-a),1),f=(n-h)/Math.max(Math.abs(n-h),1),u!==0&&f!==0?(i.isWalkableAt(r,n+f)&&o.push([r,n+f]),i.isWalkableAt(r+u,n)&&o.push([r+u,n]),i.isWalkableAt(r+u,n+f)&&o.push([r+u,n+f]),i.isWalkableAt(r-u,n)||o.push([r-u,n+f]),i.isWalkableAt(r,n-f)||o.push([r+u,n-f])):u===0?(i.isWalkableAt(r,n+f)&&o.push([r,n+f]),i.isWalkableAt(r+1,n)||o.push([r+1,n+f]),i.isWalkableAt(r-1,n)||o.push([r-1,n+f])):(i.isWalkableAt(r+u,n)&&o.push([r+u,n]),i.isWalkableAt(r,n+1)||o.push([r+u,n+1]),i.isWalkableAt(r,n-1)||o.push([r+u,n-1]));else for(g=i.getNeighbors(e,k.Always),m=0,s=g.length;m<s;++m)b=g[m],o.push([b.x,b.y]);return o},x=c,x}var ee,Be;function Ve(){if(Be)return ee;Be=1;var M=I(),k=q();function c(e){M.call(this,e)}return c.prototype=new M,c.prototype.constructor=c,c.prototype._jump=function(e,t,r,n){var i=this.grid,a=e-r,h=t-n;if(!i.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(i.getNodeAt(e,t).tested=!0),i.getNodeAt(e,t)===this.endNode)return[e,t];if(a!==0&&h!==0){if(this._jump(e+a,t,e,t)||this._jump(e,t+h,e,t))return[e,t]}else if(a!==0){if(i.isWalkableAt(e,t-1)&&!i.isWalkableAt(e-a,t-1)||i.isWalkableAt(e,t+1)&&!i.isWalkableAt(e-a,t+1))return[e,t]}else if(h!==0&&(i.isWalkableAt(e-1,t)&&!i.isWalkableAt(e-1,t-h)||i.isWalkableAt(e+1,t)&&!i.isWalkableAt(e+1,t-h)))return[e,t];return i.isWalkableAt(e+a,t)&&i.isWalkableAt(e,t+h)?this._jump(e+a,t+h,e,t):null},c.prototype._findNeighbors=function(e){var t=e.parent,r=e.x,n=e.y,i=this.grid,a,h,u,f,o=[],g,b,m,s;if(t)if(a=t.x,h=t.y,u=(r-a)/Math.max(Math.abs(r-a),1),f=(n-h)/Math.max(Math.abs(n-h),1),u!==0&&f!==0)i.isWalkableAt(r,n+f)&&o.push([r,n+f]),i.isWalkableAt(r+u,n)&&o.push([r+u,n]),i.isWalkableAt(r,n+f)&&i.isWalkableAt(r+u,n)&&o.push([r+u,n+f]);else{var d;if(u!==0){d=i.isWalkableAt(r+u,n);var l=i.isWalkableAt(r,n+1),p=i.isWalkableAt(r,n-1);d&&(o.push([r+u,n]),l&&o.push([r+u,n+1]),p&&o.push([r+u,n-1])),l&&o.push([r,n+1]),p&&o.push([r,n-1])}else if(f!==0){d=i.isWalkableAt(r,n+f);var v=i.isWalkableAt(r+1,n),N=i.isWalkableAt(r-1,n);d&&(o.push([r,n+f]),v&&o.push([r+1,n+f]),N&&o.push([r-1,n+f])),v&&o.push([r+1,n]),N&&o.push([r-1,n])}}else for(g=i.getNeighbors(e,k.OnlyWhenNoObstacles),m=0,s=g.length;m<s;++m)b=g[m],o.push([b.x,b.y]);return o},ee=c,ee}var te,Oe;function $e(){if(Oe)return te;Oe=1;var M=I(),k=q();function c(e){M.call(this,e)}return c.prototype=new M,c.prototype.constructor=c,c.prototype._jump=function(e,t,r,n){var i=this.grid,a=e-r,h=t-n;if(!i.isWalkableAt(e,t))return null;if(this.trackJumpRecursion===!0&&(i.getNodeAt(e,t).tested=!0),i.getNodeAt(e,t)===this.endNode)return[e,t];if(a!==0&&h!==0){if(i.isWalkableAt(e-a,t+h)&&!i.isWalkableAt(e-a,t)||i.isWalkableAt(e+a,t-h)&&!i.isWalkableAt(e,t-h))return[e,t];if(this._jump(e+a,t,e,t)||this._jump(e,t+h,e,t))return[e,t]}else if(a!==0){if(i.isWalkableAt(e+a,t+1)&&!i.isWalkableAt(e,t+1)||i.isWalkableAt(e+a,t-1)&&!i.isWalkableAt(e,t-1))return[e,t]}else if(i.isWalkableAt(e+1,t+h)&&!i.isWalkableAt(e+1,t)||i.isWalkableAt(e-1,t+h)&&!i.isWalkableAt(e-1,t))return[e,t];return i.isWalkableAt(e+a,t)||i.isWalkableAt(e,t+h)?this._jump(e+a,t+h,e,t):null},c.prototype._findNeighbors=function(e){var t=e.parent,r=e.x,n=e.y,i=this.grid,a,h,u,f,o=[],g,b,m,s;if(t)a=t.x,h=t.y,u=(r-a)/Math.max(Math.abs(r-a),1),f=(n-h)/Math.max(Math.abs(n-h),1),u!==0&&f!==0?(i.isWalkableAt(r,n+f)&&o.push([r,n+f]),i.isWalkableAt(r+u,n)&&o.push([r+u,n]),(i.isWalkableAt(r,n+f)||i.isWalkableAt(r+u,n))&&o.push([r+u,n+f]),!i.isWalkableAt(r-u,n)&&i.isWalkableAt(r,n+f)&&o.push([r-u,n+f]),!i.isWalkableAt(r,n-f)&&i.isWalkableAt(r+u,n)&&o.push([r+u,n-f])):u===0?i.isWalkableAt(r,n+f)&&(o.push([r,n+f]),i.isWalkableAt(r+1,n)||o.push([r+1,n+f]),i.isWalkableAt(r-1,n)||o.push([r-1,n+f])):i.isWalkableAt(r+u,n)&&(o.push([r+u,n]),i.isWalkableAt(r,n+1)||o.push([r+u,n+1]),i.isWalkableAt(r,n-1)||o.push([r+u,n-1]));else for(g=i.getNeighbors(e,k.IfAtMostOneObstacle),m=0,s=g.length;m<s;++m)b=g[m],o.push([b.x,b.y]);return o},te=c,te}var ie,qe;function ze(){if(qe)return ie;qe=1;var M=q(),k=Ge(),c=Qe(),e=Ve(),t=$e();function r(n){return n=n||{},n.diagonalMovement===M.Never?new k(n):n.diagonalMovement===M.Always?new c(n):n.diagonalMovement===M.OnlyWhenNoObstacles?new e(n):new t(n)}return ie=r,ie}var re,ye;function Ye(){return ye||(ye=1,re={Heap:J(),Node:se(),Grid:Ie(),Util:P(),DiagonalMovement:q(),Heuristic:R(),AStarFinder:ae(),BestFirstFinder:je(),BreadthFirstFinder:Se(),DijkstraFinder:He(),BiAStarFinder:oe(),BiBestFirstFinder:Le(),BiBreadthFirstFinder:Te(),BiDijkstraFinder:Ue(),IDAStarFinder:Ee(),JumpPointFinder:ze()}),re}var ne,Pe;function Ke(){return Pe||(Pe=1,ne=Ye()),ne}export{Ke as r};
